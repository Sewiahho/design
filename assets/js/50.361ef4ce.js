(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{503:function(t,a,s){"use strict";s.r(a);var e=s(14),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("ğŸ“¦ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ"),s("a",{attrs:{href:"https://github.com/dunwu/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("blog"),s("OutboundLink")],1),t._v("ã€")]),t._v(" "),s("p",[t._v("ç¿»è¯‘è‡ªï¼šhttps://sourcemaking.com/refactoring/smells/bloaters")]),t._v(" "),s("p",[s("strong",[t._v("ä»£ç è‡ƒè‚¿(Bloated)è¿™ç»„åå‘³é“æ„å‘³ç€ï¼šä»£ç ä¸­çš„ç±»ã€å‡½æ•°ã€å­—æ®µæ²¡æœ‰ç»è¿‡åˆç†çš„ç»„ç»‡ï¼Œåªæ˜¯ç®€å•çš„å †ç Œèµ·æ¥ã€‚è¿™ä¸€ç±»å‹çš„é—®é¢˜é€šå¸¸åœ¨ä»£ç çš„åˆæœŸå¹¶ä¸æ˜æ˜¾ï¼Œä½†æ˜¯éšç€ä»£ç è§„æ¨¡çš„å¢é•¿è€Œé€æ¸ç§¯ç´¯ï¼ˆç‰¹åˆ«æ˜¯å½“æ²¡æœ‰äººåŠªåŠ›å»æ ¹é™¤å®ƒä»¬æ—¶ï¼‰ã€‚")])])]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%81%8F%E6%89%A7"}},[t._v("åŸºæœ¬ç±»å‹åæ‰§")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A"}},[t._v("æ”¶ç›Š")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%95%B0%E6%8D%AE%E6%B3%A5%E5%9B%A2"}},[t._v("æ•°æ®æ³¥å›¢")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0-1"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-1"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-1"}},[t._v("æ”¶ç›Š")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%BD%95%E6%97%B6%E5%BF%BD%E7%95%A5"}},[t._v("ä½•æ—¶å¿½ç•¥")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-1"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%BF%87%E5%A4%A7%E7%9A%84%E7%B1%BB"}},[t._v("è¿‡å¤§çš„ç±»")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0-2"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-2"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-2"}},[t._v("æ”¶ç›Š")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-2"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%BF%87%E9%95%BF%E5%87%BD%E6%95%B0"}},[t._v("è¿‡é•¿å‡½æ•°")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E7%9A%84%E5%8E%9F%E5%9B%A0"}},[t._v("é—®é¢˜çš„åŸå› ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E5%87%BD%E6%95%B0"}},[t._v("è§£å†³å‡½æ•°")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-3"}},[t._v("æ”¶ç›Š")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%80%A7%E8%83%BD"}},[t._v("æ€§èƒ½")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-3"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%BF%87%E9%95%BF%E5%8F%82%E6%95%B0%E5%88%97"}},[t._v("è¿‡é•¿å‚æ•°åˆ—")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0-3"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"}},[t._v("è§£å†³æ–¹æ¡ˆ")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-4"}},[t._v("æ”¶ç›Š")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E4%BD%95%E6%97%B6%E5%BF%BD%E7%95%A5-1"}},[t._v("ä½•æ—¶å¿½ç•¥")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-4"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB"}},[t._v("æ‰©å±•é˜…è¯»")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[t._v("å‚è€ƒèµ„æ–™")])])]),t._v(" "),s("h2",{attrs:{id:"åŸºæœ¬ç±»å‹åæ‰§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬ç±»å‹åæ‰§"}},[t._v("#")]),t._v(" åŸºæœ¬ç±»å‹åæ‰§")]),t._v(" "),s("blockquote",[s("p",[t._v("åŸºæœ¬ç±»å‹åæ‰§(Primitive Obsession)")]),t._v(" "),s("ul",[s("li",[t._v("ä½¿ç”¨åŸºæœ¬ç±»å‹è€Œä¸æ˜¯å°å¯¹è±¡æ¥å®ç°ç®€å•ä»»åŠ¡ï¼ˆä¾‹å¦‚è´§å¸ã€èŒƒå›´ã€ç”µè¯å·ç å­—ç¬¦ä¸²ç­‰ï¼‰ã€‚")]),t._v(" "),s("li",[t._v("ä½¿ç”¨å¸¸é‡ç¼–ç ä¿¡æ¯ï¼ˆä¾‹å¦‚ä¸€ä¸ªç”¨äºå¼•ç”¨ç®¡ç†å‘˜æƒé™çš„å¸¸é‡"),s("code",[t._v("USER_ADMIN_ROLE = 1")]),t._v(" ï¼‰ã€‚")]),t._v(" "),s("li",[t._v("ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡ä½œä¸ºå­—æ®µååœ¨æ•°ç»„ä¸­ä½¿ç”¨ã€‚")])])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/primitive-obsession-1.png"}})]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜åŸå› "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› "}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),s("p",[t._v("ç±»ä¼¼å…¶ä»–å¤§éƒ¨åˆ†åå‘³é“ï¼ŒåŸºæœ¬ç±»å‹åæ‰§è¯ç”Ÿäºç±»åˆå»ºçš„æ—¶å€™ã€‚ä¸€å¼€å§‹ï¼Œå¯èƒ½åªæ˜¯ä¸å¤šçš„å­—æ®µï¼Œéšç€è¡¨ç¤ºçš„ç‰¹æ€§è¶Šæ¥è¶Šå¤šï¼ŒåŸºæœ¬æ•°æ®ç±»å‹å­—æ®µä¹Ÿè¶Šæ¥è¶Šå¤šã€‚")]),t._v(" "),s("p",[t._v("åŸºæœ¬ç±»å‹å¸¸å¸¸è¢«ç”¨äºè¡¨ç¤ºæ¨¡å‹çš„ç±»å‹ã€‚ä½ æœ‰ä¸€ç»„æ•°å­—æˆ–å­—ç¬¦ä¸²ç”¨æ¥è¡¨ç¤ºæŸä¸ªå®ä½“ã€‚")]),t._v(" "),s("p",[t._v("è¿˜æœ‰ä¸€ä¸ªåœºæ™¯ï¼šåœ¨æ¨¡æ‹Ÿåœºæ™¯ï¼Œå¤§é‡çš„å­—ç¬¦ä¸²å¸¸é‡è¢«ç”¨äºæ•°ç»„çš„ç´¢å¼•ã€‚")]),t._v(" "),s("h3",{attrs:{id:"è§£å†³æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/primitive-obsession-2.png"}})]),t._v(" "),s("p",[t._v("å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹å’Œç»“æ„ç±»å‹ï¼ˆç±»ã€ç»“æ„ä½“ç­‰ï¼‰ã€‚ç»“æ„ç±»å‹å…è®¸ç¨‹åºå‘˜å°†åŸºæœ¬æ•°æ®ç±»å‹ç»„ç»‡èµ·æ¥ï¼Œä»¥ä»£è¡¨æŸä¸€äº‹ç‰©çš„æ¨¡å‹ã€‚")]),t._v(" "),s("p",[t._v("åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥çœ‹æˆæ˜¯æœºæ„ç±»å‹çš„ç§¯æœ¨å—ã€‚å½“åŸºæœ¬æ•°æ®ç±»å‹æ•°é‡æˆè§„æ¨¡åï¼Œå°†å®ƒä»¬æœ‰ç»„ç»‡åœ°ç»“åˆèµ·æ¥ï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„ç®¡ç†è¿™äº›æ•°æ®ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœä½ æœ‰å¤§é‡çš„åŸºæœ¬æ•°æ®ç±»å‹å­—æ®µï¼Œå°±æœ‰å¯èƒ½å°†å…¶ä¸­éƒ¨åˆ†å­˜åœ¨é€»è¾‘è”ç³»çš„å­—æ®µç»„ç»‡èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªç±»ã€‚æ›´è¿›ä¸€æ­¥çš„æ˜¯ï¼Œå°†ä¸è¿™äº›æ•°æ®æœ‰å…³è”çš„æ–¹æ³•ä¹Ÿä¸€å¹¶ç§»å…¥ç±»ä¸­ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œå¯ä»¥å°è¯• "),s("code",[t._v("ä»¥ç±»å–ä»£ç±»å‹ç (Replace Type Code with Class)")]),t._v(" ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœåŸºæœ¬æ•°æ®ç±»å‹å­—æ®µçš„å€¼æ˜¯ç”¨äºæ–¹æ³•çš„å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" æˆ– "),s("code",[t._v("ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæƒ³è¦æ›¿æ¢çš„æ•°æ®å€¼æ˜¯ç±»å‹ç ï¼Œè€Œå®ƒå¹¶ä¸å½±å“è¡Œä¸ºï¼Œåˆ™å¯ä»¥è¿ç”¨ "),s("code",[t._v("ä»¥ç±»å–ä»£ç±»å‹ç (Replace Type Code with Class)")]),t._v(" å°†å®ƒæ›¿æ¢æ‰ã€‚å¦‚æœä½ æœ‰ä¸ç±»å‹ç ç›¸å…³çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œå¯è¿ç”¨ "),s("code",[t._v("ä»¥å­ç±»å–ä»£ç±»å‹ç (Replace Type Code with Subclass)")]),t._v(" æˆ– "),s("code",[t._v("ä»¥çŠ¶æ€/ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç (Replace Type Code with State/Strategy)")]),t._v(" åŠ ä»¥å¤„ç†ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœä½ å‘ç°è‡ªå·±æ­£ä»æ•°ç»„ä¸­æŒ‘é€‰æ•°æ®ï¼Œå¯è¿ç”¨ "),s("code",[t._v("ä»¥å¯¹è±¡å–ä»£æ•°ç»„(Replace Array with Object)")]),t._v(" ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ”¶ç›Š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),s("ul",[s("li",[t._v("å¤šäºäº†ä½¿ç”¨å¯¹è±¡æ›¿ä»£åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½¿å¾—ä»£ç å˜å¾—æ›´åŠ çµæ´»ã€‚")]),t._v(" "),s("li",[t._v("ä»£ç å˜å¾—æ›´åŠ æ˜“è¯»å’Œæ›´åŠ æœ‰ç»„ç»‡ã€‚ç‰¹æ®Šæ•°æ®å¯ä»¥é›†ä¸­è¿›è¡Œæ“ä½œï¼Œè€Œä¸åƒä¹‹å‰é‚£æ ·åˆ†æ•£ã€‚ä¸ç”¨å†çŒœæµ‹è¿™äº›é™Œç”Ÿçš„å¸¸é‡çš„æ„ä¹‰ä»¥åŠå®ƒä»¬ä¸ºä»€ä¹ˆåœ¨æ•°ç»„ä¸­ã€‚")]),t._v(" "),s("li",[t._v("æ›´å®¹æ˜“å‘ç°é‡å¤ä»£ç ã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/primitive-obsession-3.png"}})]),t._v(" "),s("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),s("h4",{attrs:{id:"ä»¥ç±»å–ä»£ç±»å‹ç -replace-type-code-with-class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥ç±»å–ä»£ç±»å‹ç -replace-type-code-with-class"}},[t._v("#")]),t._v(" ä»¥ç±»å–ä»£ç±»å‹ç (Replace Type Code with Class)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ç±»ä¹‹ä¸­æœ‰ä¸€ä¸ªæ•°å€¼ç±»å‹ç ï¼Œä½†å®ƒå¹¶ä¸å½±å“ç±»çš„è¡Œä¸ºã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-class-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥ä¸€ä¸ªæ–°çš„ç±»æ›¿æ¢è¯¥æ•°å€¼ç±»å‹ç ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-class-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object"}},[t._v("#")]),t._v(" å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("æŸäº›å‚æ•°æ€»æ˜¯å¾ˆè‡ªç„¶åœ°åŒæ—¶å‡ºç°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥ä¸€ä¸ªå¯¹è±¡æ¥å–ä»£è¿™äº›å‚æ•°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object"}},[t._v("#")]),t._v(" ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ ä»æŸä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºæŸä¸€æ¬¡å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" low "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" high "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHigh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("low"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("æ”¹ä¸ºä¼ é€’æ•´ä¸ªå¯¹è±¡ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"ä»¥å­ç±»å–ä»£ç±»å‹ç -replace-type-code-with-subclass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å­ç±»å–ä»£ç±»å‹ç -replace-type-code-with-subclass"}},[t._v("#")]),t._v(" ä»¥å­ç±»å–ä»£ç±»å‹ç (Replace Type Code with Subclass)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ æœ‰ä¸€ä¸ªä¸å¯å˜çš„ç±»å‹ç ï¼Œå®ƒä¼šå½±å“ç±»çš„è¡Œä¸ºã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-subclasses-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥å­ç±»å–ä»£è¿™ä¸ªç±»å‹ç ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-subclasses-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"ä»¥çŠ¶æ€-ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç -replace-type-code-with-state-strategy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥çŠ¶æ€-ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç -replace-type-code-with-state-strategy"}},[t._v("#")]),t._v(" ä»¥çŠ¶æ€/ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç (Replace Type Code with State/Strategy)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ æœ‰ä¸€ä¸ªç±»å‹ç ï¼Œå®ƒä¼šå½±å“ç±»çš„è¡Œä¸ºï¼Œä½†ä½ æ— æ³•é€šè¿‡ç»§æ‰¿æ¶ˆé™¤å®ƒã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-state-strategy-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥çŠ¶æ€å¯¹è±¡å–ä»£ç±»å‹ç ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-state-strategy-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"ä»¥å¯¹è±¡å–ä»£æ•°ç»„-replace-array-with-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å¯¹è±¡å–ä»£æ•°ç»„-replace-array-with-object"}},[t._v("#")]),t._v(" ä»¥å¯¹è±¡å–ä»£æ•°ç»„(Replace Array with Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­çš„å…ƒç´ å„è‡ªä»£è¡¨ä¸åŒçš„ä¸œè¥¿ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Liverpool"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"15"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥å¯¹è±¡æ›¿æ¢æ•°ç»„ã€‚å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œä»¥ä¸€ä¸ªå­—æ®µæ¥è¡¨ç¤ºã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Performance")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Performance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Liverpool"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setWins")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"15"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"æ•°æ®æ³¥å›¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®æ³¥å›¢"}},[t._v("#")]),t._v(" æ•°æ®æ³¥å›¢")]),t._v(" "),s("blockquote",[s("p",[t._v("æ•°æ®æ³¥å›¢(Data Clumps)")]),t._v(" "),s("p",[t._v("æœ‰æ—¶ï¼Œä»£ç çš„ä¸åŒéƒ¨åˆ†åŒ…å«ç›¸åŒçš„å˜é‡ç»„ï¼ˆä¾‹å¦‚ç”¨äºè¿æ¥åˆ°æ•°æ®åº“çš„å‚æ•°ï¼‰ã€‚è¿™äº›ç»‘åœ¨ä¸€èµ·å‡ºç°çš„æ•°æ®åº”è¯¥æ‹¥æœ‰è‡ªå·±çš„å¯¹è±¡ã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/data-clumps-1.png"}})]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜åŸå› -2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› -2"}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),s("p",[t._v("é€šå¸¸ï¼Œæ•°æ®æ³¥å›¢çš„å‡ºç°æ—¶å› ä¸ºç³Ÿç³•çš„ç¼–ç¨‹ç»“æ„æˆ–â€œå¤åˆ¶-ç²˜è´´å¼ç¼–ç¨‹â€ã€‚")]),t._v(" "),s("p",[t._v("æœ‰ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦æ˜¯æ•°æ®æ³¥å›¢çš„å¥½åŠæ³•ï¼šåˆ æ‰ä¼—å¤šæ•°æ®ä¸­çš„ä¸€é¡¹ã€‚è¿™ä¹ˆåšï¼Œå…¶ä»–æ•°æ®æœ‰æ²¡æœ‰å› è€Œå¤±å»æ„ä¹‰ï¼Ÿå¦‚æœå®ƒä»¬ä¸å†æœ‰æ„ä¹‰ï¼Œè¿™å°±æ˜¯ä¸ªæ˜ç¡®çš„ä¿¡å·ï¼šä½ åº”è¯¥ä¸ºå®ƒä»¬äº§ç”Ÿä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚")]),t._v(" "),s("h3",{attrs:{id:"è§£å†³æ–¹æ³•-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•-2"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),s("ul",[s("li",[t._v("é¦–å…ˆæ‰¾å‡ºè¿™äº›æ•°æ®ä»¥å­—æ®µå½¢å¼å‡ºç°çš„åœ°æ–¹ï¼Œè¿ç”¨ "),s("code",[t._v("æç‚¼ç±»(Extract Class)")]),t._v(" å°†å®ƒä»¬æç‚¼åˆ°ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ä¸­ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæ•°æ®æ³¥å›¢åœ¨å‡½æ•°çš„å‚æ•°åˆ—ä¸­å‡ºç°ï¼Œè¿ç”¨ "),s("code",[t._v("å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" å°†å®ƒä»¬ç»„ç»‡æˆä¸€ä¸ªç±»ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæ•°æ®æ³¥å›¢çš„éƒ¨åˆ†æ•°æ®å‡ºç°åœ¨å…¶ä»–å‡½æ•°ä¸­ï¼Œè€ƒè™‘è¿ç”¨ "),s("code",[t._v("ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" å°†æ•´ä¸ªæ•°æ®å¯¹è±¡ä¼ å…¥åˆ°å‡½æ•°ä¸­ã€‚")]),t._v(" "),s("li",[t._v("æ£€è§†ä¸€ä¸‹ä½¿ç”¨è¿™äº›å­—æ®µçš„ä»£ç ï¼Œä¹Ÿè®¸ï¼Œå°†å®ƒä»¬ç§»å…¥ä¸€ä¸ªæ•°æ®ç±»æ˜¯ä¸ªä¸é”™çš„ä¸»æ„ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ”¶ç›Š-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-2"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),s("ul",[s("li",[t._v("æé«˜ä»£ç æ˜“è¯»æ€§å’Œç»„ç»‡æ€§ã€‚å¯¹äºç‰¹æ®Šæ•°æ®çš„æ“ä½œï¼Œå¯ä»¥é›†ä¸­è¿›è¡Œå¤„ç†ï¼Œè€Œä¸åƒä»¥å‰é‚£æ ·åˆ†æ•£ã€‚")]),t._v(" "),s("li",[t._v("å‡å°‘ä»£ç é‡ã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/data-clumps-3.png"}})]),t._v(" "),s("h3",{attrs:{id:"ä½•æ—¶å¿½ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½•æ—¶å¿½ç•¥"}},[t._v("#")]),t._v(" ä½•æ—¶å¿½ç•¥")]),t._v(" "),s("ul",[s("li",[t._v("æœ‰æ—¶ä¸ºäº†å¯¹è±¡ä¸­çš„éƒ¨åˆ†æ•°æ®è€Œå°†æ•´ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè®©ä¸¤ä¸ªç±»ä¹‹é—´ä¸æ”¶æ¬¢è¿çš„ä¾èµ–å…³ç³»ï¼Œè¿™ä¸­æƒ…å†µä¸‹å¯ä»¥ä¸ä¼ é€’æ•´ä¸ªå¯¹è±¡ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-2"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),s("h4",{attrs:{id:"æç‚¼ç±»-extract-class"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼ç±»-extract-class"}},[t._v("#")]),t._v(" æç‚¼ç±»(Extract Class)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("æŸä¸ªç±»åšäº†ä¸æ­¢ä¸€ä»¶äº‹ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-class-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("å»ºç«‹ä¸€ä¸ªæ–°ç±»ï¼Œå°†ç›¸å…³çš„å­—æ®µå’Œå‡½æ•°ä»æ—§ç±»æ¬ç§»åˆ°æ–°ç±»ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-class-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object-2"}},[t._v("#")]),t._v(" å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("æŸäº›å‚æ•°æ€»æ˜¯å¾ˆè‡ªç„¶åœ°åŒæ—¶å‡ºç°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥ä¸€ä¸ªå¯¹è±¡æ¥å–ä»£è¿™äº›å‚æ•°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object-2"}},[t._v("#")]),t._v(" ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ ä»æŸä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºæŸä¸€æ¬¡å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" low "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" high "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHigh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("low"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("æ”¹ä¸ºä¼ é€’æ•´ä¸ªå¯¹è±¡ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"è¿‡å¤§çš„ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿‡å¤§çš„ç±»"}},[t._v("#")]),t._v(" è¿‡å¤§çš„ç±»")]),t._v(" "),s("blockquote",[s("p",[t._v("è¿‡å¤§çš„ç±»(Large Class)")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªç±»å«æœ‰è¿‡å¤šå­—æ®µã€å‡½æ•°ã€ä»£ç è¡Œã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/large-class-1.png"}})]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜åŸå› -3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› -3"}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),s("p",[t._v("ç±»é€šå¸¸ä¸€å¼€å§‹å¾ˆå°ï¼Œä½†æ˜¯éšç€ç¨‹åºçš„å¢é•¿è€Œé€æ¸è†¨èƒ€ã€‚")]),t._v(" "),s("p",[t._v("ç±»ä¼¼äºè¿‡é•¿å‡½æ•°ï¼Œç¨‹åºå‘˜é€šå¸¸è§‰å¾—åœ¨ä¸€ä¸ªç°å­˜ç±»ä¸­æ·»åŠ æ–°ç‰¹æ€§æ¯”åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»è¦å®¹æ˜“ã€‚")]),t._v(" "),s("h3",{attrs:{id:"è§£å†³æ–¹æ³•-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•-3"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),s("p",[t._v("è®¾è®¡æ¨¡å¼ä¸­æœ‰ä¸€æ¡é‡è¦åŸåˆ™ï¼šèŒè´£å•ä¸€åŸåˆ™ã€‚ä¸€ä¸ªç±»åº”è¯¥åªèµ‹äºˆå®ƒä¸€ä¸ªèŒè´£ã€‚å¦‚æœå®ƒæ‰€æ‰¿æ‹…çš„èŒè´£å¤ªå¤šï¼Œå°±è¯¥è€ƒè™‘ä¸ºå®ƒå‡å‡è´Ÿã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/large-class-2.png"}})]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœè¿‡å¤§ç±»ä¸­çš„éƒ¨åˆ†è¡Œä¸ºå¯ä»¥æç‚¼åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("æç‚¼ç±»(Extract Class)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœè¿‡å¤§ç±»ä¸­çš„éƒ¨åˆ†è¡Œä¸ºå¯ä»¥ç”¨ä¸åŒæ–¹å¼å®ç°æˆ–ä½¿ç”¨äºç‰¹æ®Šåœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("æç‚¼å­ç±»(Extract Subclass)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæœ‰å¿…è¦ä¸ºå®¢æˆ·ç«¯æä¾›ä¸€ç»„æ“ä½œå’Œè¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("æç‚¼æ¥å£(Extract Interface)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœä½ çš„è¿‡å¤§ç±»æ˜¯ä¸ª GUI ç±»ï¼Œå¯èƒ½éœ€è¦æŠŠæ•°æ®å’Œè¡Œä¸ºç§»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„é¢†åŸŸå¯¹è±¡å»ã€‚ä½ å¯èƒ½éœ€è¦ä¸¤è¾¹å„ä¿ç•™ä¸€äº›é‡å¤æ•°æ®ï¼Œå¹¶ä¿æŒä¸¤è¾¹åŒæ­¥ã€‚ "),s("code",[t._v("å¤åˆ¶è¢«ç›‘è§†æ•°æ®(Duplicate Observed Data)")]),t._v(" å¯ä»¥å‘Šè¯‰ä½ æ€ä¹ˆåšã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ”¶ç›Š-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-3"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),s("ul",[s("li",[t._v("é‡æ„è¿‡å¤§çš„ç±»å¯ä»¥ä½¿ç¨‹åºå‘˜ä¸å¿…è®°ä½ä¸€ä¸ªç±»ä¸­å¤§é‡çš„å±æ€§ã€‚")]),t._v(" "),s("li",[t._v("åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåˆ†å‰²è¿‡å¤§çš„ç±»å¯ä»¥é¿å…ä»£ç å’ŒåŠŸèƒ½çš„é‡å¤ã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/large-class-3.png"}})]),t._v(" "),s("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-3"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),s("h4",{attrs:{id:"æç‚¼ç±»-extract-class-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼ç±»-extract-class-2"}},[t._v("#")]),t._v(" æç‚¼ç±»(Extract Class)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("æŸä¸ªç±»åšäº†ä¸æ­¢ä¸€ä»¶äº‹ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-class-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("å»ºç«‹ä¸€ä¸ªæ–°ç±»ï¼Œå°†ç›¸å…³çš„å­—æ®µå’Œå‡½æ•°ä»æ—§ç±»æ¬ç§»åˆ°æ–°ç±»ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-class-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"æç‚¼å­ç±»-extract-subclass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼å­ç±»-extract-subclass"}},[t._v("#")]),t._v(" æç‚¼å­ç±»(Extract Subclass)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä¸€ä¸ªç±»ä¸­æœ‰äº›ç‰¹æ€§ä»…ç”¨äºç‰¹å®šåœºæ™¯ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-subclass-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("åˆ›å»ºä¸€ä¸ªå­ç±»ï¼Œå¹¶å°†ç”¨äºç‰¹æ®Šåœºæ™¯çš„ç‰¹æ€§ç½®å…¥å…¶ä¸­ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-subclass-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"æç‚¼æ¥å£-extract-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼æ¥å£-extract-interface"}},[t._v("#")]),t._v(" æç‚¼æ¥å£(Extract Interface)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("å¤šä¸ªå®¢æˆ·ç«¯ä½¿ç”¨ä¸€ä¸ªç±»éƒ¨åˆ†ç›¸åŒçš„å‡½æ•°ã€‚å¦ä¸€ä¸ªåœºæ™¯æ˜¯ä¸¤ä¸ªç±»ä¸­çš„éƒ¨åˆ†å‡½æ•°ç›¸åŒã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-interface-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ç§»åŠ¨ç›¸åŒçš„éƒ¨åˆ†å‡½æ•°åˆ°æ¥å£ä¸­ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-interface-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"å¤åˆ¶è¢«ç›‘è§†æ•°æ®-duplicate-observed-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤åˆ¶è¢«ç›‘è§†æ•°æ®-duplicate-observed-data"}},[t._v("#")]),t._v(" å¤åˆ¶è¢«ç›‘è§†æ•°æ®(Duplicate Observed Data)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("å¦‚æœå­˜å‚¨åœ¨ç±»ä¸­çš„æ•°æ®æ˜¯è´Ÿè´£ GUI çš„ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/duplicate-observed-data-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯å°†è´Ÿè´£ GUI çš„æ•°æ®æ”¾å…¥ä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œä»¥ç¡®ä¿ GUI æ•°æ®ä¸åŸŸç±»ä¹‹é—´çš„è¿æ¥å’ŒåŒæ­¥ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/duplicate-observed-data-after.png"}})]),t._v(" "),s("h2",{attrs:{id:"è¿‡é•¿å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿‡é•¿å‡½æ•°"}},[t._v("#")]),t._v(" è¿‡é•¿å‡½æ•°")]),t._v(" "),s("blockquote",[s("p",[t._v("è¿‡é•¿å‡½æ•°(Long Method)")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå‡½æ•°å«æœ‰å¤ªå¤šè¡Œä»£ç ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä»»ä½•å‡½æ•°è¶…è¿‡ 10 è¡Œæ—¶ï¼Œä½ å°±å¯ä»¥è€ƒè™‘æ˜¯ä¸æ˜¯è¿‡é•¿äº†ã€‚\nå‡½æ•°ä¸­çš„ä»£ç è¡Œæ•°åŸåˆ™ä¸Šä¸è¦è¶…è¿‡ 100 è¡Œã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/long-method-1.png"}})]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜çš„åŸå› "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜çš„åŸå› "}},[t._v("#")]),t._v(" é—®é¢˜çš„åŸå› ")]),t._v(" "),s("p",[t._v("é€šå¸¸æƒ…å†µä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°çš„éš¾åº¦è¦å¤§äºæ·»åŠ åŠŸèƒ½åˆ°ä¸€ä¸ªå·²å­˜åœ¨çš„å‡½æ•°ã€‚å¤§éƒ¨åˆ†äººéƒ½è§‰å¾—ï¼šâ€œæˆ‘å°±æ·»åŠ è¿™ä¹ˆä¸¤è¡Œä»£ç ï¼Œä¸ºæ­¤æ–°å»ºä¸€ä¸ªå‡½æ•°å®åœ¨æ˜¯å°é¢˜å¤§åšäº†ã€‚â€äºæ˜¯ï¼Œå¼ ä¸‰åŠ ä¸¤è¡Œï¼Œæå››åŠ ä¸¤è¡Œï¼Œç‹äº”åŠ ä¸¤è¡Œã€‚ã€‚ã€‚å‡½æ•°æ—¥ç›Šåºå¤§ï¼Œæœ€ç»ˆçƒ‚çš„åƒä¸€é”…æµ†ç³Šï¼Œå†ä¹Ÿæ²¡äººèƒ½å®Œå…¨çœ‹æ‡‚äº†ã€‚äºæ˜¯å¤§å®¶å°±æ›´ä¸æ•¢è½»æ˜“åŠ¨è¿™ä¸ªå‡½æ•°äº†ï¼Œåªèƒ½æ¶æ€§å¾ªç¯çš„å¾€å…¶ä¸­æ·»åŠ ä»£ç ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çœ‹åˆ°ä¸€ä¸ªè¶…è¿‡ 200 è¡Œçš„å‡½æ•°ï¼Œé€šå¸¸éƒ½æ˜¯å¤šä¸ªç¨‹åºå‘˜ä¸œæ‹¼è¥¿å‡‘å‡ºæ¥çš„ã€‚")]),t._v(" "),s("h3",{attrs:{id:"è§£å†³å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³å‡½æ•°"}},[t._v("#")]),t._v(" è§£å†³å‡½æ•°")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå¾ˆå¥½çš„æŠ€å·§æ˜¯ï¼š"),s("strong",[t._v("å¯»æ‰¾æ³¨é‡Š")]),t._v("ã€‚æ·»åŠ æ³¨é‡Šï¼Œä¸€èˆ¬æœ‰è¿™ä¹ˆå‡ ä¸ªåŸå› ï¼šä»£ç é€»è¾‘è¾ƒä¸ºæ™¦æ¶©æˆ–å¤æ‚ï¼›è¿™æ®µä»£ç åŠŸèƒ½ç›¸å¯¹ç‹¬ç«‹ï¼›ç‰¹æ®Šå¤„ç†ã€‚\nå¦‚æœä»£ç å‰æ–¹æœ‰ä¸€è¡Œæ³¨é‡Šï¼Œå°±æ˜¯åœ¨æé†’ä½ ï¼šå¯ä»¥å°†è¿™æ®µä»£ç æ›¿æ¢æˆä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”å¯ä»¥åœ¨æ³¨é‡Šçš„åŸºç¡€ä¸Šç»™è¿™ä¸ªå‡½æ•°å‘½åã€‚å¦‚æœå‡½æ•°æœ‰ä¸€ä¸ªæè¿°æ°å½“çš„åå­—ï¼Œå°±ä¸éœ€è¦å»çœ‹å†…éƒ¨ä»£ç ç©¶ç«Ÿæ˜¯å¦‚ä½•å®ç°çš„ã€‚å°±ç®—åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¦‚æœå®ƒéœ€è¦ä»¥æ³¨é‡Šæ¥è¯´æ˜ï¼Œé‚£ä¹Ÿå€¼å¾—å°†å®ƒæç‚¼åˆ°ç‹¬ç«‹å‡½æ•°ä¸­ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/long-method-2.png"}})]),t._v(" "),s("ul",[s("li",[t._v("ä¸ºäº†ç»™ä¸€ä¸ªå‡½æ•°ç˜¦èº«ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("æç‚¼å‡½æ•°(Extract Method)")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœå±€éƒ¨å˜é‡å’Œå‚æ•°å¹²æ‰°æç‚¼å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("ä»¥æŸ¥è¯¢å–ä»£ä¸´æ—¶å˜é‡(Replace Temp with Query)")]),t._v("ï¼Œ"),s("code",[t._v("å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" æˆ– "),s("code",[t._v("ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœå‰é¢ä¸¤æ¡æ²¡æœ‰å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ "),s("code",[t._v("ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°(Replace Method with Method Object)")]),t._v(" å°è¯•ç§»åŠ¨æ•´ä¸ªå‡½æ•°åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ä¸­ã€‚")]),t._v(" "),s("li",[t._v("æ¡ä»¶è¡¨è¾¾å¼å’Œå¾ªç¯å¸¸å¸¸ä¹Ÿæ˜¯æç‚¼çš„ä¿¡å·ã€‚å¯¹äºæ¡ä»¶è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨ "),s("code",[t._v("åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼(Decompose Conditional)")]),t._v(" ã€‚è‡³äºå¾ªç¯ï¼Œåº”è¯¥ä½¿ç”¨ "),s("code",[t._v("æç‚¼å‡½æ•°(Extract Method)")]),t._v(" å°†å¾ªç¯å’Œå…¶å†…çš„ä»£ç æç‚¼åˆ°ç‹¬ç«‹å‡½æ•°ä¸­ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ”¶ç›Š-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-4"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨æ‰€æœ‰ç±»å‹çš„é¢å‘å¯¹è±¡ä»£ç ä¸­ï¼Œå‡½æ•°æ¯”è¾ƒçŸ­å°ç²¾æ‚çš„ç±»å¾€å¾€ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿ã€‚ä¸€ä¸ªå‡½æ•°è¶Šé•¿ï¼Œå°±è¶Šä¸å®¹æ˜“ç†è§£å’Œç»´æŠ¤ã€‚")]),t._v(" "),s("li",[t._v("æ­¤å¤–ï¼Œè¿‡é•¿å‡½æ•°ä¸­å¾€å¾€å«æœ‰éš¾ä»¥å‘ç°çš„é‡å¤ä»£ç ã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/long-method-3.png"}})]),t._v(" "),s("h3",{attrs:{id:"æ€§èƒ½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½"}},[t._v("#")]),t._v(" æ€§èƒ½")]),t._v(" "),s("p",[t._v("æ˜¯å¦åƒè®¸å¤šäººè¯´çš„é‚£æ ·ï¼Œå¢åŠ å‡½æ•°çš„æ•°é‡ä¼šå½±å“æ€§èƒ½ï¼Ÿåœ¨å‡ ä¹ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ç§å½±å“æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒã€‚\næ­¤å¤–ï¼Œç°åœ¨æœ‰äº†æ¸…æ™°å’Œæ˜“è¯»çš„ä»£ç ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ï¼Œä½ å°†æ›´å®¹æ˜“æ‰¾åˆ°çœŸæ­£æœ‰æ•ˆçš„å‡½æ•°æ¥é‡ç»„ä»£ç å’Œæé«˜æ€§èƒ½ã€‚")]),t._v(" "),s("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-4"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),s("h4",{attrs:{id:"æç‚¼å‡½æ•°-extract-method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼å‡½æ•°-extract-method"}},[t._v("#")]),t._v(" æç‚¼å‡½æ•°(Extract Method)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ æœ‰ä¸€æ®µä»£ç å¯ä»¥ç»„ç»‡åœ¨ä¸€èµ·ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printOwing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printBanner")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//print details")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOutstanding")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ç§»åŠ¨è¿™æ®µä»£ç åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°ä¸­ï¼Œä½¿ç”¨å‡½æ•°çš„è°ƒç”¨æ¥æ›¿ä»£è€ä»£ç ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printOwing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printBanner")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOutstanding")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" outstanding"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount: "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" outstanding"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"ä»¥æŸ¥è¯¢å–ä»£ä¸´æ—¶å˜é‡-replace-temp-with-query"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥æŸ¥è¯¢å–ä»£ä¸´æ—¶å˜é‡-replace-temp-with-query"}},[t._v("#")]),t._v(" ä»¥æŸ¥è¯¢å–ä»£ä¸´æ—¶å˜é‡(Replace Temp with Query)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("å°†è¡¨è¾¾å¼çš„ç»“æœæ”¾åœ¨å±€éƒ¨å˜é‡ä¸­ï¼Œç„¶ååœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("calculateTotal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" basePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" itemPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("basePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" basePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.95")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" basePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.98")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("å°†æ•´ä¸ªè¡¨è¾¾å¼ç§»åŠ¨åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°ä¸­å¹¶è¿”å›ç»“æœã€‚ä½¿ç”¨æŸ¥è¯¢å‡½æ•°æ¥æ›¿ä»£ä½¿ç”¨å˜é‡ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥åœ¨å…¶ä»–å‡½æ•°ä¸­åˆå¹¶æ–°å‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("calculateTotal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("basePrice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("basePrice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.95")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("basePrice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.98")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("basePrice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" itemPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object-3"}},[t._v("#")]),t._v(" å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("æŸäº›å‚æ•°æ€»æ˜¯å¾ˆè‡ªç„¶åœ°åŒæ—¶å‡ºç°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥ä¸€ä¸ªå¯¹è±¡æ¥å–ä»£è¿™äº›å‚æ•°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-after.png"}})]),t._v(" "),s("h4",{attrs:{id:"ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object-3"}},[t._v("#")]),t._v(" ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ ä»æŸä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºæŸä¸€æ¬¡å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" low "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" high "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHigh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("low"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("æ”¹ä¸ºä¼ é€’æ•´ä¸ªå¯¹è±¡ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°-replace-method-with-method-object"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°-replace-method-with-method-object"}},[t._v("#")]),t._v(" ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°(Replace Method with Method Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ æœ‰ä¸€ä¸ªè¿‡é•¿å‡½æ•°ï¼Œå®ƒçš„å±€éƒ¨å˜é‡äº¤ç»‡åœ¨ä¸€èµ·ï¼Œä»¥è‡´äºä½ æ— æ³•åº”ç”¨æç‚¼å‡½æ•°(Extract Method) ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("price")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" primaryBasePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" secondaryBasePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" tertiaryBasePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// long computation.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("å°†å‡½æ•°ç§»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ï¼Œä½¿å¾—å±€éƒ¨å˜é‡æˆäº†è¿™ä¸ªç±»çš„å­—æ®µã€‚ç„¶åï¼Œä½ å¯ä»¥å°†å‡½æ•°åˆ†å‰²æˆè¿™ä¸ªç±»ä¸­çš„å¤šä¸ªå‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("price")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PriceCalculator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PriceCalculator")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" primaryBasePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" secondaryBasePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" tertiaryBasePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PriceCalculator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// copy relevant information from order object.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// long computation.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional"}},[t._v("#")]),t._v(" åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼(Decompose Conditional)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ æœ‰å¤æ‚çš„æ¡ä»¶è¡¨è¾¾å¼ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("before")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SUMMER_START"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("after")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SUMMER_END"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  charge "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" winterRate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" winterServiceCharge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  charge "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" summerRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("æ ¹æ®æ¡ä»¶åˆ†æ”¯å°†æ•´ä¸ªæ¡ä»¶è¡¨è¾¾å¼åˆ†è§£æˆå‡ ä¸ªå‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notSummer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  charge "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("winterCharge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("quantity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  charge "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("summerCharge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("quantity"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"è¿‡é•¿å‚æ•°åˆ—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿‡é•¿å‚æ•°åˆ—"}},[t._v("#")]),t._v(" è¿‡é•¿å‚æ•°åˆ—")]),t._v(" "),s("blockquote",[s("p",[t._v("è¿‡é•¿å‚æ•°åˆ—(Long Parameter List)")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå‡½æ•°æœ‰è¶…è¿‡ 3ã€4 ä¸ªå…¥å‚ã€‚")])]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/long-parameter-list-1.png"}})]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜åŸå› -4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› -4"}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),s("p",[t._v("è¿‡é•¿å‚æ•°åˆ—å¯èƒ½æ˜¯å°†å¤šä¸ªç®—æ³•å¹¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­æ—¶å‘ç”Ÿçš„ã€‚å‡½æ•°ä¸­çš„å…¥å‚å¯ä»¥ç”¨æ¥æ§åˆ¶æœ€ç»ˆé€‰ç”¨å“ªä¸ªç®—æ³•å»æ‰§è¡Œã€‚")]),t._v(" "),s("p",[t._v("è¿‡é•¿å‚æ•°åˆ—ä¹Ÿå¯èƒ½æ˜¯è§£è€¦ç±»ä¹‹é—´ä¾èµ–å…³ç³»æ—¶çš„å‰¯äº§å“ã€‚ä¾‹å¦‚ï¼Œç”¨äºåˆ›å»ºå‡½æ•°ä¸­æ‰€éœ€çš„ç‰¹å®šå¯¹è±¡çš„ä»£ç å·²ä»å‡½æ•°ç§»åŠ¨åˆ°è°ƒç”¨å‡½æ•°çš„ä»£ç å¤„ï¼Œä½†åˆ›å»ºçš„å¯¹è±¡æ˜¯ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚å› æ­¤ï¼ŒåŸå§‹ç±»ä¸å†çŸ¥é“å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œå¹¶ä¸”ä¾èµ–æ€§ä¹Ÿå·²ç»å‡å°‘ã€‚ä½†æ˜¯å¦‚æœåˆ›å»ºçš„è¿™äº›å¯¹è±¡ï¼Œæ¯ä¸€ä¸ªéƒ½å°†éœ€è¦å®ƒè‡ªå·±çš„å‚æ•°ï¼Œè¿™æ„å‘³ç€è¿‡é•¿å‚æ•°åˆ—ã€‚")]),t._v(" "),s("p",[t._v("å¤ªé•¿çš„å‚æ•°åˆ—éš¾ä»¥ç†è§£ï¼Œå¤ªå¤šå‚æ•°ä¼šé€ æˆå‰åä¸ä¸€è‡´ã€ä¸æ˜“ä½¿ç”¨ï¼Œè€Œä¸”ä¸€æ—¦éœ€è¦æ›´å¤šæ•°æ®ï¼Œå°±ä¸å¾—ä¸ä¿®æ”¹å®ƒã€‚")]),t._v(" "),s("h3",{attrs:{id:"è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/long-parameter-list-2.png"}})]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœå‘å·²æœ‰çš„å¯¹è±¡å‘å‡ºä¸€æ¡è¯·æ±‚å°±å¯ä»¥å–ä»£ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨ "),s("code",[t._v("ä»¥å‡½æ•°å–ä»£å‚æ•°(Replace Parameter with Methods)")]),t._v(" ã€‚åœ¨è¿™é‡Œï¼Œï¼Œâ€œå·²æœ‰çš„å¯¹è±¡â€å¯èƒ½æ˜¯å‡½æ•°æ‰€å±ç±»é‡Œçš„ä¸€ä¸ªå­—æ®µï¼Œä¹Ÿå¯èƒ½æ˜¯å¦ä¸€ä¸ªå‚æ•°ã€‚")]),t._v(" "),s("li",[t._v("ä½ è¿˜å¯ä»¥è¿ç”¨ "),s("code",[t._v("ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" å°†æ¥è‡ªåŒä¸€å¯¹è±¡çš„ä¸€å †æ•°æ®æ”¶é›†èµ·æ¥ï¼Œå¹¶ä»¥è¯¥å¯¹è±¡æ›¿æ¢å®ƒä»¬ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœæŸäº›æ•°æ®ç¼ºä¹åˆç†çš„å¯¹è±¡å½’å±ï¼Œå¯ä½¿ç”¨ "),s("code",[t._v("å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" ä¸ºå®ƒä»¬åˆ¶é€ å‡ºä¸€ä¸ªâ€œå‚æ•°å¯¹è±¡â€ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"æ”¶ç›Š-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-5"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),s("ul",[s("li",[t._v("æ›´æ˜“è¯»ï¼Œæ›´ç®€çŸ­çš„ä»£ç ã€‚")]),t._v(" "),s("li",[t._v("é‡æ„å¯èƒ½ä¼šæš´éœ²å‡ºä¹‹å‰æœªæ³¨æ„åˆ°çš„é‡å¤ä»£ç ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"ä½•æ—¶å¿½ç•¥-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½•æ—¶å¿½ç•¥-2"}},[t._v("#")]),t._v(" ä½•æ—¶å¿½ç•¥")]),t._v(" "),s("ul",[s("li",[t._v('è¿™é‡Œæœ‰ä¸€ä¸ªé‡è¦çš„ä¾‹å¤–ï¼šæœ‰æ—¶å€™ä½ æ˜æ˜¾ä¸æƒ³é€ æˆ"è¢«è°ƒç”¨å¯¹è±¡"ä¸"è¾ƒå¤§å¯¹è±¡"é—´çš„æŸç§ä¾èµ–å…³ç³»ã€‚è¿™æ—¶å€™å°†æ•°æ®ä»å¯¹è±¡ä¸­æ‹†è§£å‡ºæ¥å•ç‹¬ä½œä¸ºå‚æ•°ï¼Œä¹Ÿå¾ˆåˆæƒ…ç†ã€‚ä½†æ˜¯è¯·æ³¨æ„å…¶æ‰€å¼•å‘çš„ä»£ä»·ã€‚å¦‚æœå‚æ•°åˆ—å¤ªé•¿æˆ–å˜åŒ–å¤ªé¢‘ç¹ï¼Œå°±éœ€è¦é‡æ–°è€ƒè™‘è‡ªå·±çš„ä¾èµ–ç»“æ„äº†ã€‚')])]),t._v(" "),s("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-5"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),s("h4",{attrs:{id:"ä»¥å‡½æ•°å–ä»£å‚æ•°-replace-parameter-with-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å‡½æ•°å–ä»£å‚æ•°-replace-parameter-with-methods"}},[t._v("#")]),t._v(" ä»¥å‡½æ•°å–ä»£å‚æ•°(Replace Parameter with Methods)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("å¯¹è±¡è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œå¹¶å°†æ‰€å¾—ç»“æœä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚è€Œæ¥å—è¯¥å‚æ•°çš„å‡½æ•°æœ¬èº«ä¹Ÿèƒ½å¤Ÿè°ƒç”¨å‰ä¸€ä¸ªå‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" basePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" itemPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" seasonDiscount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSeasonalDiscount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" fees "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFees")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" finalPrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("discountedPrice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("basePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" seasonDiscount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fees"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("è®©å‚æ•°æ¥å—è€…å»é™¤è¯¥é¡¹å‚æ•°ï¼Œå¹¶ç›´æ¥è°ƒç”¨å‰ä¸€ä¸ªå‡½æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" basePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" itemPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" finalPrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("discountedPrice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("basePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿æŒå¯¹è±¡å®Œæ•´-preserve-whole-object-4"}},[t._v("#")]),t._v(" ä¿æŒå¯¹è±¡å®Œæ•´(Preserve Whole Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("ä½ ä»æŸä¸ªå¯¹è±¡ä¸­å–å‡ºè‹¥å¹²å€¼ï¼Œå°†å®ƒä»¬ä½œä¸ºæŸä¸€æ¬¡å‡½æ•°è°ƒç”¨æ—¶çš„å‚æ•°ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" low "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" high "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHigh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("low"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" high"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("æ”¹ä¸ºä¼ é€’æ•´ä¸ªå¯¹è±¡ã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" withinPlan "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" plan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withinRange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("daysTempRange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥å‚æ•°å¯¹è±¡-introduce-parameter-object-4"}},[t._v("#")]),t._v(" å¼•å…¥å‚æ•°å¯¹è±¡(Introduce Parameter Object)")]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜")])]),t._v(" "),s("p",[t._v("æŸäº›å‚æ•°æ€»æ˜¯å¾ˆè‡ªç„¶åœ°åŒæ—¶å‡ºç°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-before.png"}})]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³")])]),t._v(" "),s("p",[t._v("ä»¥ä¸€ä¸ªå¯¹è±¡æ¥å–ä»£è¿™äº›å‚æ•°ã€‚")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/introduce-parameter-object-after.png"}})]),t._v(" "),s("h2",{attrs:{id:"æ‰©å±•é˜…è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å±•é˜…è¯»"}},[t._v("#")]),t._v(" æ‰©å±•é˜…è¯»")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç çš„åå‘³é“å’Œé‡æ„"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E4%BB%A3%E7%A0%81%E8%87%83%E8%82%BF.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹ä»£ç è‡ƒè‚¿"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E6%BB%A5%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹æ»¥ç”¨é¢å‘å¯¹è±¡"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E5%8F%98%E9%9D%A9%E7%9A%84%E9%9A%9C%E7%A2%8D.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹å˜é©çš„éšœç¢"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E9%9D%9E%E5%BF%85%E8%A6%81%E7%9A%84.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹éå¿…è¦çš„"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E8%80%A6%E5%90%88.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹è€¦åˆ"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://book.douban.com/subject/4262627/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šé‡æ„â€”â€”æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹"),s("OutboundLink")],1),t._v(" - by Martin Fowler")]),t._v(" "),s("li",[t._v("https://sourcemaking.com/refactoring")])])])}),[],!1,null,null,null);a.default=n.exports}}]);