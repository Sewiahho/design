(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{505:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("ğŸ“¦ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ"),a("a",{attrs:{href:"https://github.com/dunwu/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("blog"),a("OutboundLink")],1),t._v("ã€")]),t._v(" "),a("p",[t._v("ç¿»è¯‘è‡ªï¼šhttps://sourcemaking.com/refactoring/smells/oo-abusers")]),t._v(" "),a("p",[a("strong",[t._v("æ»¥ç”¨é¢å‘å¯¹è±¡(Object-Orientation Abusers)è¿™ç»„åå‘³é“æ„å‘³ç€ï¼šä»£ç éƒ¨åˆ†æˆ–å®Œå…¨åœ°è¿èƒŒäº†é¢å‘å¯¹è±¡ç¼–ç¨‹åŸåˆ™ã€‚")])])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#switch-%E5%A3%B0%E6%98%8E"}},[t._v("Switch å£°æ˜")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A"}},[t._v("æ”¶ç›Š")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BD%95%E6%97%B6%E5%BF%BD%E7%95%A5"}},[t._v("ä½•æ—¶å¿½ç•¥")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E4%B8%B4%E6%97%B6%E5%AD%97%E6%AE%B5"}},[t._v("ä¸´æ—¶å­—æ®µ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0-1"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-1"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-1"}},[t._v("æ”¶ç›Š")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-1"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%BC%82%E6%9B%B2%E5%90%8C%E5%B7%A5%E7%9A%84%E7%B1%BB"}},[t._v("å¼‚æ›²åŒå·¥çš„ç±»")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0-2"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-2"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-2"}},[t._v("æ”¶ç›Š")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BD%95%E6%97%B6%E5%BF%BD%E7%95%A5-1"}},[t._v("ä½•æ—¶å¿½ç•¥")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-2"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%A2%AB%E6%8B%92%E7%BB%9D%E7%9A%84%E9%A6%88%E8%B5%A0"}},[t._v("è¢«æ‹’ç»çš„é¦ˆèµ ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0-3"}},[t._v("é—®é¢˜åŸå› ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95-3"}},[t._v("è§£å†³æ–¹æ³•")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%94%B6%E7%9B%8A-3"}},[t._v("æ”¶ç›Š")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E8%AF%B4%E6%98%8E-3"}},[t._v("é‡æ„æ–¹æ³•è¯´æ˜")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB"}},[t._v("æ‰©å±•é˜…è¯»")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"}},[t._v("å‚è€ƒèµ„æ–™")])])]),t._v(" "),a("h2",{attrs:{id:"switch-å£°æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switch-å£°æ˜"}},[t._v("#")]),t._v(" Switch å£°æ˜")]),t._v(" "),a("blockquote",[a("p",[t._v("Switch å£°æ˜(Switch Statements)")]),t._v(" "),a("p",[t._v("ä½ æœ‰ä¸€ä¸ªå¤æ‚çš„ "),a("code",[t._v("switch")]),t._v(" è¯­å¥æˆ– "),a("code",[t._v("if")]),t._v(" åºåˆ—è¯­å¥ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/switch-statements-1.png"}})]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜åŸå› "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› "}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),a("p",[t._v("é¢å‘å¯¹è±¡ç¨‹åºçš„ä¸€ä¸ªæœ€æ˜æ˜¾ç‰¹å¾å°±æ˜¯ï¼šå°‘ç”¨ "),a("code",[t._v("switch")]),t._v(" å’Œ "),a("code",[t._v("case")]),t._v(" è¯­å¥ã€‚ä»æœ¬è´¨ä¸Šè¯´ï¼Œ"),a("code",[t._v("switch")]),t._v(" è¯­å¥çš„é—®é¢˜åœ¨äºé‡å¤ï¼ˆ"),a("code",[t._v("if")]),t._v(" åºåˆ—ä¹ŸåŒæ ·å¦‚æ­¤ï¼‰ã€‚ä½ å¸¸ä¼šå‘ç° "),a("code",[t._v("switch")]),t._v(" è¯­å¥æ•£å¸ƒäºä¸åŒåœ°ç‚¹ã€‚å¦‚æœè¦ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªæ–°çš„ "),a("code",[t._v("case")]),t._v(" å­å¥ï¼Œå°±å¿…é¡»æ‰¾åˆ°æ‰€æœ‰ "),a("code",[t._v("switch")]),t._v(" è¯­å¥å¹¶ä¿®æ”¹å®ƒä»¬ã€‚é¢å‘å¯¹è±¡ä¸­çš„å¤šæ€æ¦‚å¿µå¯ä¸ºæ­¤å¸¦æ¥ä¼˜é›…çš„è§£å†³åŠæ³•ã€‚")]),t._v(" "),a("p",[t._v("å¤§å¤šæ•°æ—¶å€™ï¼Œä¸€çœ‹åˆ° "),a("code",[t._v("switch")]),t._v(" è¯­å¥ï¼Œå°±åº”è¯¥è€ƒè™‘ä»¥å¤šæ€æ¥æ›¿æ¢å®ƒã€‚")]),t._v(" "),a("h3",{attrs:{id:"è§£å†³æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),a("ul",[a("li",[t._v("é—®é¢˜æ˜¯å¤šæ€è¯¥å‡ºç°åœ¨å“ªï¼Ÿswitch è¯­å¥å¸¸å¸¸æ ¹æ®ç±»å‹ç è¿›è¡Œé€‰æ‹©ï¼Œä½ è¦çš„æ˜¯â€œä¸è¯¥ç±»å‹ç ç›¸å…³çš„å‡½æ•°æˆ–ç±»â€ï¼Œæ‰€ä»¥åº”è¯¥è¿ç”¨ "),a("code",[t._v("æç‚¼å‡½æ•°(Extract Method)")]),t._v(" å°† "),a("code",[t._v("switch")]),t._v(" è¯­å¥æç‚¼åˆ°ä¸€ä¸ªç‹¬ç«‹å‡½æ•°ä¸­ï¼Œå†ä»¥ "),a("code",[t._v("æ¬ç§»å‡½æ•°(Move Method)")]),t._v(" å°†å®ƒæ¬ç§»åˆ°éœ€è¦å¤šæ€æ€§çš„é‚£ä¸ªç±»é‡Œã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœä½ çš„ "),a("code",[t._v("switch")]),t._v(" æ˜¯åŸºäºç±»å‹ç æ¥è¯†åˆ«åˆ†æ”¯ï¼Œè¿™æ—¶å¯ä»¥è¿ç”¨ "),a("code",[t._v("ä»¥å­ç±»å–ä»£ç±»å‹ç (Replace Type Code with Subclass)")]),t._v(" æˆ– "),a("code",[t._v("ä»¥çŠ¶æ€/ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç (Replace Type Code with State/Strategy)")]),t._v(" ã€‚")]),t._v(" "),a("li",[t._v("ä¸€æ—¦å®Œæˆè¿™æ ·çš„ç»§æ‰¿ç»“æ„åï¼Œå°±å¯ä»¥è¿ç”¨ "),a("code",[t._v("ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼(Replace Conditional with Polymorphism)")]),t._v(" äº†ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœæ¡ä»¶åˆ†æ”¯å¹¶ä¸å¤šå¹¶ä¸”å®ƒä»¬ä½¿ç”¨ä¸åŒå‚æ•°è°ƒç”¨ç›¸åŒçš„å‡½æ•°ï¼Œå¤šæ€å°±æ²¡å¿…è¦äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥è¿ç”¨ "),a("code",[t._v("ä»¥æ˜ç¡®å‡½æ•°å–ä»£å‚æ•°(Replace Parameter with Explicit Methods)")]),t._v(" ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœä½ çš„é€‰æ‹©æ¡ä»¶ä¹‹ä¸€æ˜¯ nullï¼Œå¯ä»¥è¿ç”¨ "),a("code",[t._v("å¼•å…¥ Null å¯¹è±¡(Introduce Null Object)")]),t._v(" ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ”¶ç›Š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),a("ul",[a("li",[t._v("æå‡ä»£ç ç»„ç»‡æ€§ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/switch-statements-2.png"}})]),t._v(" "),a("h3",{attrs:{id:"ä½•æ—¶å¿½ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½•æ—¶å¿½ç•¥"}},[t._v("#")]),t._v(" ä½•æ—¶å¿½ç•¥")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœä¸€ä¸ª "),a("code",[t._v("switch")]),t._v(" æ“ä½œåªæ˜¯æ‰§è¡Œç®€å•çš„è¡Œä¸ºï¼Œå°±æ²¡æœ‰é‡æ„çš„å¿…è¦äº†ã€‚")]),t._v(" "),a("li",[a("code",[t._v("switch")]),t._v(" å¸¸è¢«å·¥å‚è®¾è®¡æ¨¡å¼æ—ï¼ˆ"),a("code",[t._v("å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)")]),t._v("å’Œ"),a("code",[t._v("æŠ½è±¡å·¥å‚æ¨¡å¼(Abstract Factory)")]),t._v("ï¼‰æ‰€ä½¿ç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹ä¹Ÿæ²¡å¿…è¦é‡æ„ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),a("h4",{attrs:{id:"æç‚¼å‡½æ•°-extract-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼å‡½æ•°-extract-method"}},[t._v("#")]),t._v(" æç‚¼å‡½æ•°(Extract Method)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ æœ‰ä¸€æ®µä»£ç å¯ä»¥ç»„ç»‡åœ¨ä¸€èµ·ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printOwing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printBanner")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//print details")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOutstanding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("ç§»åŠ¨è¿™æ®µä»£ç åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°ä¸­ï¼Œä½¿ç”¨å‡½æ•°çš„è°ƒç”¨æ¥æ›¿ä»£è€ä»£ç ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printOwing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printBanner")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printDetails")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOutstanding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printDetails")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" outstanding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amount: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" outstanding"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"æ¬ç§»å‡½æ•°-move-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¬ç§»å‡½æ•°-move-method"}},[t._v("#")]),t._v(" æ¬ç§»å‡½æ•°(Move Method)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ çš„ç¨‹åºä¸­ï¼Œæœ‰ä¸ªå‡½æ•°ä¸å…¶æ‰€é©»ç±»ä¹‹å¤–çš„å¦ä¸€ä¸ªç±»è¿›è¡Œæ›´å¤šäº¤æµï¼šè°ƒç”¨åè€…ï¼Œæˆ–è¢«åè€…è°ƒç”¨ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/move-method-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("åœ¨è¯¥å‡½æ•°æœ€å¸¸å¼•ç”¨çš„ç±»ä¸­å»ºç«‹ä¸€ä¸ªæœ‰ç€ç±»ä¼¼è¡Œä¸ºçš„æ–°å‡½æ•°ã€‚å°†æ—§å‡½æ•°å˜æˆä¸€ä¸ªå•çº¯çš„å§”æ‰˜å‡½æ•°ï¼Œæˆ–æ˜¯æ—§å‡½æ•°å®Œå…¨ç§»é™¤ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/move-method-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"ä»¥å­ç±»å–ä»£ç±»å‹ç -replace-type-code-with-subclass"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å­ç±»å–ä»£ç±»å‹ç -replace-type-code-with-subclass"}},[t._v("#")]),t._v(" ä»¥å­ç±»å–ä»£ç±»å‹ç (Replace Type Code with Subclass)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ æœ‰ä¸€ä¸ªä¸å¯å˜çš„ç±»å‹ç ï¼Œå®ƒä¼šå½±å“ç±»çš„è¡Œä¸ºã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-subclasses-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("ä»¥å­ç±»å–ä»£è¿™ä¸ªç±»å‹ç ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-subclasses-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"ä»¥çŠ¶æ€-ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç -replace-type-code-with-state-strategy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥çŠ¶æ€-ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç -replace-type-code-with-state-strategy"}},[t._v("#")]),t._v(" ä»¥çŠ¶æ€/ç­–ç•¥æ¨¡å¼å–ä»£ç±»å‹ç (Replace Type Code with State/Strategy)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ æœ‰ä¸€ä¸ªç±»å‹ç ï¼Œå®ƒä¼šå½±å“ç±»çš„è¡Œä¸ºï¼Œä½†ä½ æ— æ³•é€šè¿‡ç»§æ‰¿æ¶ˆé™¤å®ƒã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-state-strategy-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("ä»¥çŠ¶æ€å¯¹è±¡å–ä»£ç±»å‹ç ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-type-code-with-state-strategy-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism"}},[t._v("#")]),t._v(" ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼(Replace Conditional with Polymorphism)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ æ‰‹ä¸Šæœ‰ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œå®ƒæ ¹æ®å¯¹è±¡ç±»å‹çš„ä¸åŒè€Œé€‰æ‹©ä¸åŒçš„è¡Œä¸ºã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bird")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" EUROPEAN"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBaseSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" AFRICAN"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBaseSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLoadFactor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" numberOfCoconuts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" NORWEGIAN_BLUE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isNailed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBaseSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("voltage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RuntimeException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Should be unreachable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("å°†è¿™ä¸ªæ¡ä»¶è¡¨è¾¾å¼çš„æ¯ä¸ªåˆ†æ”¯æ”¾è¿›ä¸€ä¸ªå­ç±»å†…çš„è¦†å†™å‡½æ•°ä¸­ï¼Œç„¶åå°†åŸå§‹å‡½æ•°å£°æ˜ä¸ºæŠ½è±¡å‡½æ•°ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bird")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("European")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bird")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBaseSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("African")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bird")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBaseSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLoadFactor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" numberOfCoconuts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NorwegianBlue")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bird")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isNailed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBaseSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("voltage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Somewhere in client code")]),t._v("\nspeed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" bird"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSpeed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"ä»¥æ˜ç¡®å‡½æ•°å–ä»£å‚æ•°-replace-parameter-with-explicit-methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥æ˜ç¡®å‡½æ•°å–ä»£å‚æ•°-replace-parameter-with-explicit-methods"}},[t._v("#")]),t._v(" ä»¥æ˜ç¡®å‡½æ•°å–ä»£å‚æ•°(Replace Parameter with Explicit Methods)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸­å®Œå…¨å–å†³äºå‚æ•°å€¼è€Œé‡‡å–ä¸åŒçš„è¡Œä¸ºã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"height"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Assert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldNeverReachHere")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("é’ˆå¯¹è¯¥å‚æ•°çš„æ¯ä¸€ä¸ªå¯èƒ½å€¼ï¼Œå»ºç«‹ä¸€ä¸ªç‹¬ç«‹å‡½æ•°ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  height "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setWidth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  width "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"å¼•å…¥-null-å¯¹è±¡-introduce-null-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥-null-å¯¹è±¡-introduce-null-object"}},[t._v("#")]),t._v(" å¼•å…¥ Null å¯¹è±¡(Introduce Null Object)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ éœ€è¦å†ä¸‰æ£€æŸ¥æŸå¯¹è±¡æ˜¯å¦ä¸º nullã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BillingPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("basic")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("å°† null å€¼æ›¿æ¢ä¸º null å¯¹è±¡ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullCustomer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plan")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Some other NULL functionality.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace null values with Null-object.")]),t._v("\ncustomer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullCustomer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Use Null-object as if it's normal subclass.")]),t._v("\nplan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"ä¸´æ—¶å­—æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸´æ—¶å­—æ®µ"}},[t._v("#")]),t._v(" ä¸´æ—¶å­—æ®µ")]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸´æ—¶å­—æ®µ(Temporary Field)çš„å€¼åªåœ¨ç‰¹å®šç¯å¢ƒä¸‹æœ‰æ„ä¹‰ï¼Œç¦»å¼€è¿™ä¸ªç¯å¢ƒï¼Œå®ƒä»¬å°±ä»€ä¹ˆä¹Ÿä¸æ˜¯äº†ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/temporary-field-1.png"}})]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜åŸå› -2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› -2"}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),a("p",[t._v("æœ‰æ—¶ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„å¯¹è±¡ï¼šå…¶å†…æŸä¸ªå®ä¾‹å˜é‡ä»…ä¸ºæŸç§ç‰¹å®šæƒ…å†µè€Œè®¾ã€‚è¿™æ ·çš„ä»£ç è®©äººä¸æ˜“ç†è§£ï¼Œå› ä¸ºä½ é€šå¸¸è®¤ä¸ºå¯¹è±¡åœ¨æ‰€æœ‰æ—¶å€™éƒ½éœ€è¦å®ƒçš„æ‰€æœ‰å˜é‡ã€‚åœ¨å˜é‡æœªè¢«ä½¿ç”¨çš„æƒ…å†µä¸‹çŒœæµ‹å½“åˆè®¾ç½®ç›®çš„ï¼Œä¼šè®©ä½ å‘ç–¯ã€‚\né€šå¸¸ï¼Œä¸´æ—¶å­—æ®µæ˜¯åœ¨æŸä¸€ç®—æ³•éœ€è¦å¤§é‡è¾“å…¥æ—¶è€Œåˆ›å»ºã€‚å› æ­¤ï¼Œä¸ºäº†é¿å…å‡½æ•°æœ‰è¿‡å¤šå‚æ•°ï¼Œç¨‹åºå‘˜å†³å®šåœ¨ç±»ä¸­åˆ›å»ºè¿™äº›æ•°æ®çš„ä¸´æ—¶å­—æ®µã€‚è¿™äº›ä¸´æ—¶å­—æ®µä»…ä»…åœ¨ç®—æ³•ä¸­ä½¿ç”¨ï¼Œå…¶ä»–æ—¶å€™å´æ¯«æ— ç”¨å¤„ã€‚\nè¿™ç§ä»£ç ä¸å¥½ç†è§£ã€‚ä½ æœŸæœ›æŸ¥çœ‹å¯¹è±¡å­—æ®µçš„æ•°æ®ï¼Œä½†æ˜¯å‡ºäºæŸç§åŸå› ï¼Œå®ƒä»¬æ€»æ˜¯ä¸ºç©ºã€‚")]),t._v(" "),a("h3",{attrs:{id:"è§£å†³æ–¹æ³•-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•-2"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),a("ul",[a("li",[t._v("å¯ä»¥é€šè¿‡ "),a("code",[t._v("æç‚¼ç±»(Extract Class)")]),t._v(" å°†ä¸´æ—¶å­—æ®µå’Œæ“ä½œå®ƒä»¬çš„æ‰€æœ‰ä»£ç æç‚¼åˆ°ä¸€ä¸ªå•ç‹¬çš„ç±»ä¸­ã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥è¿ç”¨ "),a("code",[t._v("ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°(Replace Method with Method Object)")]),t._v(" æ¥å®ç°åŒæ ·çš„ç›®çš„ã€‚")]),t._v(" "),a("li",[a("code",[t._v("å¼•å…¥ Null å¯¹è±¡(Introduce Null Object)")]),t._v(" åœ¨â€œå˜é‡ä¸åˆæ³•â€çš„æƒ…å†µä¸‹åˆ›å»ºä¸€ä¸ª null å¯¹è±¡ï¼Œä»è€Œé¿å…å†™å‡ºæ¡ä»¶è¡¨è¾¾å¼ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/temporary-field-2.png"}})]),t._v(" "),a("h3",{attrs:{id:"æ”¶ç›Š-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-2"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),a("ul",[a("li",[t._v("æ›´å¥½çš„ä»£ç æ¸…æ™°åº¦å’Œç»„ç»‡æ€§ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/temporary-field-3.png"}})]),t._v(" "),a("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-2"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),a("h4",{attrs:{id:"æç‚¼ç±»-extract-class"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼ç±»-extract-class"}},[t._v("#")]),t._v(" æç‚¼ç±»(Extract Class)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("æŸä¸ªç±»åšäº†ä¸æ­¢ä¸€ä»¶äº‹ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-class-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("å»ºç«‹ä¸€ä¸ªæ–°ç±»ï¼Œå°†ç›¸å…³çš„å­—æ®µå’Œå‡½æ•°ä»æ—§ç±»æ¬ç§»åˆ°æ–°ç±»ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-class-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°-replace-method-with-method-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°-replace-method-with-method-object"}},[t._v("#")]),t._v(" ä»¥å‡½æ•°å¯¹è±¡å–ä»£å‡½æ•°(Replace Method with Method Object)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ æœ‰ä¸€ä¸ªè¿‡é•¿å‡½æ•°ï¼Œå®ƒçš„å±€éƒ¨å˜é‡äº¤ç»‡åœ¨ä¸€èµ·ï¼Œä»¥è‡´äºä½ æ— æ³•åº”ç”¨æç‚¼å‡½æ•°(Extract Method) ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("price")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" primaryBasePrice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" secondaryBasePrice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" tertiaryBasePrice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// long computation.")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("å°†å‡½æ•°ç§»åˆ°ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ï¼Œä½¿å¾—å±€éƒ¨å˜é‡æˆäº†è¿™ä¸ªç±»çš„å­—æ®µã€‚ç„¶åï¼Œä½ å¯ä»¥å°†å‡½æ•°åˆ†å‰²æˆè¿™ä¸ªç±»ä¸­çš„å¤šä¸ªå‡½æ•°ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("price")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PriceCalculator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PriceCalculator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" primaryBasePrice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" secondaryBasePrice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" tertiaryBasePrice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PriceCalculator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// copy relevant information from order object.")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("double")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// long computation.")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"å¼•å…¥-null-å¯¹è±¡-introduce-null-object-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥-null-å¯¹è±¡-introduce-null-object-2"}},[t._v("#")]),t._v(" å¼•å…¥ Null å¯¹è±¡(Introduce Null Object)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ éœ€è¦å†ä¸‰æ£€æŸ¥æŸå¯¹è±¡æ˜¯å¦ä¸º nullã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BillingPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("basic")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("å°† null å€¼æ›¿æ¢ä¸º null å¯¹è±¡ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullCustomer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plan")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Some other NULL functionality.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Replace null values with Null-object.")]),t._v("\ncustomer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NullCustomer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Use Null-object as if it's normal subclass.")]),t._v("\nplan "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPlan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"å¼‚æ›²åŒå·¥çš„ç±»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ›²åŒå·¥çš„ç±»"}},[t._v("#")]),t._v(" å¼‚æ›²åŒå·¥çš„ç±»")]),t._v(" "),a("blockquote",[a("p",[t._v("å¼‚æ›²åŒå·¥çš„ç±»(Alternative Classes with Different Interfaces)")]),t._v(" "),a("p",[t._v("ä¸¤ä¸ªç±»ä¸­æœ‰ç€ä¸åŒçš„å‡½æ•°ï¼Œå´åœ¨åšç€åŒä¸€ä»¶äº‹ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/alternative-classes-with-different-interfaces-1.png"}})]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜åŸå› -3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› -3"}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),a("p",[t._v("è¿™ç§æƒ…å†µå¾€å¾€æ˜¯å› ä¸ºï¼šåˆ›å»ºè¿™ä¸ªç±»çš„ç¨‹åºå‘˜å¹¶ä¸çŸ¥é“å·²ç»æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½çš„ç±»å­˜åœ¨äº†ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è§£å†³æ–¹æ³•-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•-3"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœä¸¤ä¸ªå‡½æ•°åšåŒä¸€ä»¶äº‹ï¼Œå´æœ‰ç€ä¸åŒçš„ç­¾åï¼Œè¯·è¿ç”¨ "),a("code",[t._v("å‡½æ•°æ”¹å(Rename Method)")]),t._v(" æ ¹æ®å®ƒä»¬çš„ç”¨é€”é‡æ–°å‘½åã€‚")]),t._v(" "),a("li",[t._v("è¿ç”¨ "),a("code",[t._v("æ¬ç§»å‡½æ•°(Move Method)")]),t._v(" ã€ "),a("code",[t._v("æ·»åŠ å‚æ•°(Add Parameter)")]),t._v(" å’Œ "),a("code",[t._v("ä»¤å‡½æ•°æºå¸¦å‚æ•°(Parameterize Method)")]),t._v(" æ¥ä½¿å¾—æ–¹æ³•çš„åç§°å’Œå®ç°ä¸€è‡´ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœä¸¤ä¸ªç±»ä»…æœ‰éƒ¨åˆ†åŠŸèƒ½æ˜¯é‡å¤çš„ï¼Œå°è¯•è¿ç”¨ "),a("code",[t._v("æç‚¼è¶…ç±»(Extract Superclass)")]),t._v(" ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå·²å­˜åœ¨çš„ç±»å°±æˆäº†è¶…ç±»ã€‚")]),t._v(" "),a("li",[t._v("å½“æœ€ç»ˆé€‰æ‹©å¹¶è¿ç”¨æŸç§æ–¹æ³•æ¥é‡æ„åï¼Œä¹Ÿè®¸ä½ å°±èƒ½åˆ é™¤å…¶ä¸­ä¸€ä¸ªç±»äº†ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ”¶ç›Š-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-3"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),a("ul",[a("li",[t._v("æ¶ˆé™¤äº†ä¸å¿…è¦çš„é‡å¤ä»£ç ï¼Œä¸ºä»£ç ç˜¦èº«äº†ã€‚")]),t._v(" "),a("li",[t._v("ä»£ç æ›´æ˜“è¯»ï¼ˆä¸å†éœ€è¦çŒœæµ‹ä¸ºä»€ä¹ˆè¦æœ‰ä¸¤ä¸ªåŠŸèƒ½ç›¸åŒçš„ç±»ï¼‰ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/alternative-classes-with-different-interfaces-2.png"}})]),t._v(" "),a("h3",{attrs:{id:"ä½•æ—¶å¿½ç•¥-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½•æ—¶å¿½ç•¥-2"}},[t._v("#")]),t._v(" ä½•æ—¶å¿½ç•¥")]),t._v(" "),a("ul",[a("li",[t._v("æœ‰æ—¶åˆå¹¶ç±»æ˜¯ä¸å¯èƒ½çš„ï¼Œæˆ–è€…æ˜¯å¦‚æ­¤å›°éš¾ä»¥è‡³äºæ²¡æœ‰æ„ä¹‰ã€‚ä¾‹å¦‚ï¼šä¸¤ä¸ªåŠŸèƒ½ç›¸ä¼¼çš„ç±»å­˜åœ¨äºä¸åŒçš„ lib åº“ä¸­ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-3"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),a("h4",{attrs:{id:"å‡½æ•°æ”¹å-rename-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°æ”¹å-rename-method"}},[t._v("#")]),t._v(" å‡½æ•°æ”¹å(Rename Method)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("å‡½æ•°çš„åç§°æœªèƒ½æ°å½“çš„æ­ç¤ºå‡½æ•°çš„ç”¨é€”ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getsnm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("ä¿®æ”¹å‡½æ•°åã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSecondName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"æ¬ç§»å‡½æ•°-move-method-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¬ç§»å‡½æ•°-move-method-2"}},[t._v("#")]),t._v(" æ¬ç§»å‡½æ•°(Move Method)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä½ çš„ç¨‹åºä¸­ï¼Œæœ‰ä¸ªå‡½æ•°ä¸å…¶æ‰€é©»ç±»ä¹‹å¤–çš„å¦ä¸€ä¸ªç±»è¿›è¡Œæ›´å¤šäº¤æµï¼šè°ƒç”¨åè€…ï¼Œæˆ–è¢«åè€…è°ƒç”¨ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/move-method-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("åœ¨è¯¥å‡½æ•°æœ€å¸¸å¼•ç”¨çš„ç±»ä¸­å»ºç«‹ä¸€ä¸ªæœ‰ç€ç±»ä¼¼è¡Œä¸ºçš„æ–°å‡½æ•°ã€‚å°†æ—§å‡½æ•°å˜æˆä¸€ä¸ªå•çº¯çš„å§”æ‰˜å‡½æ•°ï¼Œæˆ–æ˜¯æ—§å‡½æ•°å®Œå…¨ç§»é™¤ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/move-method-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"æ·»åŠ å‚æ•°-add-parameter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ å‚æ•°-add-parameter"}},[t._v("#")]),t._v(" æ·»åŠ å‚æ•°(Add Parameter)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")]),t._v("\næŸä¸ªå‡½æ•°éœ€è¦ä»è°ƒç”¨ç«¯å¾—åˆ°æ›´å¤šä¿¡æ¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Contact")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContact")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("è§£å†³")]),t._v("\nä¸ºæ­¤å‡½æ•°æ·»åŠ ä¸€ä¸ªå¯¹è±¡å‡½æ•°ï¼Œè®©æ”¹å¯¹è±¡å¸¦è¿›å‡½æ•°æ‰€éœ€ä¿¡æ¯ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("class Customer {\n  public Contact getContact(Date date);\n}\n")])])]),a("h4",{attrs:{id:"ä»¤å‡½æ•°æºå¸¦å‚æ•°-parameterize-method"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¤å‡½æ•°æºå¸¦å‚æ•°-parameterize-method"}},[t._v("#")]),t._v(" ä»¤å‡½æ•°æºå¸¦å‚æ•°(Parameterize Method)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("è‹¥å¹²å‡½æ•°åšäº†ç±»ä¼¼çš„å·¥ä½œï¼Œä½†åœ¨å‡½æ•°æœ¬ä½“ä¸­å´åŒ…å«äº†ä¸åŒçš„å€¼ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/parameterize-method-before.png"}})]),t._v("\n**è§£å†³**\n"),a("p",[t._v("å»ºç«‹å•ä¸€å‡½æ•°ï¼Œä»¥å‚æ•°è¡¨è¾¾å“ªäº›ä¸åŒçš„å€¼ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/parameterize-method-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"æç‚¼è¶…ç±»-extract-superclass"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼è¶…ç±»-extract-superclass"}},[t._v("#")]),t._v(" æç‚¼è¶…ç±»(Extract Superclass)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä¸¤ä¸ªç±»æœ‰ç›¸ä¼¼ç‰¹æ€§ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-superclass-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("ä¸ºè¿™ä¸¤ä¸ªç±»å»ºç«‹ä¸€ä¸ªè¶…ç±»ï¼Œå°†ç›¸åŒç‰¹æ€§ç§»è‡³è¶…ç±»ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-superclass-after.png"}})]),t._v(" "),a("h2",{attrs:{id:"è¢«æ‹’ç»çš„é¦ˆèµ "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¢«æ‹’ç»çš„é¦ˆèµ "}},[t._v("#")]),t._v(" è¢«æ‹’ç»çš„é¦ˆèµ ")]),t._v(" "),a("blockquote",[a("p",[t._v("è¢«æ‹’ç»çš„é¦ˆèµ (Refused Bequest)")]),t._v(" "),a("p",[t._v("å­ç±»ä»…ä»…ä½¿ç”¨çˆ¶ç±»ä¸­çš„éƒ¨åˆ†æ–¹æ³•å’Œå±æ€§ã€‚å…¶ä»–æ¥è‡ªçˆ¶ç±»çš„é¦ˆèµ æˆä¸ºäº†ç´¯èµ˜ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/refused-bequest-1.png"}})]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜åŸå› -4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åŸå› -4"}},[t._v("#")]),t._v(" é—®é¢˜åŸå› ")]),t._v(" "),a("p",[t._v("æœ‰äº›äººä»…ä»…æ˜¯æƒ³é‡ç”¨è¶…ç±»ä¸­çš„éƒ¨åˆ†ä»£ç è€Œåˆ›å»ºäº†å­ç±»ã€‚ä½†å®é™…ä¸Šè¶…ç±»å’Œå­ç±»å®Œå…¨ä¸åŒã€‚")]),t._v(" "),a("h3",{attrs:{id:"è§£å†³æ–¹æ³•-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•-4"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœç»§æ‰¿æ²¡æœ‰æ„ä¹‰å¹¶ä¸”å­ç±»å’Œçˆ¶ç±»ä¹‹é—´ç¡®å®æ²¡æœ‰å…±åŒç‚¹ï¼Œå¯ä»¥è¿ç”¨ "),a("code",[t._v("ä»¥å§”æ‰˜å–ä»£ç»§æ‰¿(Replace Inheritance with Delegation)")]),t._v(" æ¶ˆé™¤ç»§æ‰¿ã€‚")]),t._v(" "),a("li",[t._v("å¦‚æœç»§æ‰¿æ˜¯é€‚å½“çš„ï¼Œåˆ™å»é™¤å­ç±»ä¸­ä¸éœ€è¦çš„å­—æ®µå’Œæ–¹æ³•ã€‚è¿ç”¨ "),a("code",[t._v("æç‚¼è¶…ç±»(Extract Superclass)")]),t._v(" å°†æ‰€æœ‰è¶…ç±»ä¸­å¯¹äºå­ç±»æœ‰ç”¨çš„å­—æ®µå’Œå‡½æ•°æå–å‡ºæ¥ï¼Œç½®å…¥ä¸€ä¸ªæ–°çš„è¶…ç±»ä¸­ï¼Œç„¶åè®©ä¸¤ä¸ªç±»éƒ½ç»§æ‰¿è‡ªå®ƒã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/refused-bequest-2.png"}})]),t._v(" "),a("h3",{attrs:{id:"æ”¶ç›Š-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¶ç›Š-4"}},[t._v("#")]),t._v(" æ”¶ç›Š")]),t._v(" "),a("ul",[a("li",[t._v("æé«˜ä»£ç çš„æ¸…æ™°åº¦å’Œç»„ç»‡æ€§ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/refused-bequest-3.png"}})]),t._v(" "),a("h3",{attrs:{id:"é‡æ„æ–¹æ³•è¯´æ˜-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡æ„æ–¹æ³•è¯´æ˜-4"}},[t._v("#")]),t._v(" é‡æ„æ–¹æ³•è¯´æ˜")]),t._v(" "),a("h4",{attrs:{id:"ä»¥å§”æ‰˜å–ä»£ç»§æ‰¿-replace-inheritance-with-delegation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å§”æ‰˜å–ä»£ç»§æ‰¿-replace-inheritance-with-delegation"}},[t._v("#")]),t._v(" ä»¥å§”æ‰˜å–ä»£ç»§æ‰¿(Replace Inheritance with Delegation)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("æŸä¸ªå­ç±»åªä½¿ç”¨è¶…ç±»æ¥å£ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–æ˜¯æ ¹æœ¬ä¸éœ€è¦ç»§æ‰¿è€Œæ¥çš„æ•°æ®ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-inheritance-with-delegation-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("ol",[a("li",[t._v("åœ¨å­ç±»ä¸­æ–°å»ºä¸€ä¸ªå­—æ®µç”¨ä»¥ä¿å­˜è¶…ç±»ï¼›")]),t._v(" "),a("li",[t._v("è°ƒæ•´å­ç±»å‡½æ•°ï¼Œä»¤å®ƒæ”¹è€Œå§”æ‰˜è¶…ç±»ï¼›")]),t._v(" "),a("li",[t._v("ç„¶åå»æ‰ä¸¤è€…ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ã€‚")])]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/replace-inheritance-with-delegation-after.png"}})]),t._v(" "),a("h4",{attrs:{id:"æç‚¼è¶…ç±»-extract-superclass-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æç‚¼è¶…ç±»-extract-superclass-2"}},[t._v("#")]),t._v(" æç‚¼è¶…ç±»(Extract Superclass)")]),t._v(" "),a("p",[a("strong",[t._v("é—®é¢˜")])]),t._v(" "),a("p",[t._v("ä¸¤ä¸ªç±»æœ‰ç›¸ä¼¼ç‰¹æ€§ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-superclass-before.png"}})]),t._v(" "),a("p",[a("strong",[t._v("è§£å†³")])]),t._v(" "),a("p",[t._v("ä¸ºè¿™ä¸¤ä¸ªç±»å»ºç«‹ä¸€ä¸ªè¶…ç±»ï¼Œå°†ç›¸åŒç‰¹æ€§ç§»è‡³è¶…ç±»ã€‚")]),t._v(" "),a("div",{attrs:{align:"center"}},[a("img",{attrs:{src:"http://dunwu.test.upcdn.net/cs/design/refactor/extract-superclass-after.png"}})]),t._v(" "),a("h2",{attrs:{id:"æ‰©å±•é˜…è¯»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å±•é˜…è¯»"}},[t._v("#")]),t._v(" æ‰©å±•é˜…è¯»")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç çš„åå‘³é“å’Œé‡æ„"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E4%BB%A3%E7%A0%81%E8%87%83%E8%82%BF.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹ä»£ç è‡ƒè‚¿"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E6%BB%A5%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹æ»¥ç”¨é¢å‘å¯¹è±¡"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E5%8F%98%E9%9D%A9%E7%9A%84%E9%9A%9C%E7%A2%8D.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹å˜é©çš„éšœç¢"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E9%9D%9E%E5%BF%85%E8%A6%81%E7%9A%84.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹éå¿…è¦çš„"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/dunwu/blog/blob/master/source/_posts/design/refactor/%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E8%80%A6%E5%90%88.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åå‘³é“ä¹‹è€¦åˆ"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://book.douban.com/subject/4262627/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šé‡æ„â€”â€”æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡ã€‹"),a("OutboundLink")],1),t._v(" - by Martin Fowler")]),t._v(" "),a("li",[t._v("https://sourcemaking.com/refactoring")])])])}),[],!1,null,null,null);s.default=e.exports}}]);